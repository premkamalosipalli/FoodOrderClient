<app-admin></app-admin>
<div class="card-body">

    <h5 class="card-title text-center text-success">
        Update Restaurant
    </h5>

    <div class="card-text">

        <form [formGroup]="restaurantForm">
          <div class="form-group">
            <label for="restaurantName" class="form-label">Restaurant Name(<i>{{restaurant.restaurantName}}</i>)</label>
            <input id="restaurantName" type="text" formControlName="restaurantName" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['restaurantName'].errors }">
            <div *ngIf="submitted && f['restaurantName'].errors" class="invalid-feedback">
              <div *ngIf="f['restaurantName'].errors['required']">RestaurantName is required</div>
              <div *ngIf="f['restaurantName'].errors['minlength']">
                RestaurantName must be at least 6 characters
              </div>
              <div *ngIf="f['restaurantName'].errors['maxlength']">
                RestaurantName must not exceed 25 characters
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="imageLocation" class="form-label">Image Location(Select file from ../assets/Images/*)</label>
            <img height="20" src="/assets/Images/{{restaurant.imageLocation}}"/>
            <input id="imageLocation" type="file" accept="image/*"  formControlName="imageLocation" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['imageLocation'].errors }"
              (change)="onFileUpload($event)">
            <div *ngIf="submitted && f['imageLocation'].errors" class="invalid-feedback">
              <div *ngIf="f['imageLocation'].errors['required']">JPG Image is required</div>
            </div>
            <img [src]="imgURL" height="50" *ngIf="imgURL"/>
          </div>

          <div class="form-group">
            <label for="description" class="form-label">Description(<i>{{restaurant.description}}</i>)</label>
            <input id="description" type="text" formControlName="description" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['description'].errors }">
            <div *ngIf="submitted && f['description'].errors" class="invalid-feedback">
              <div *ngIf="f['description'].errors['required']">Description is required</div>
              <div *ngIf="f['description'].errors['minlength']">
                Description must be at least 6 characters
              </div>
              <div *ngIf="f['description'].errors['maxlength']">
                Description must not exceed 100 characters
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="street" class="form-label">Street(<i>{{address.street}}</i>)</label>
            <input id="street" type="text" formControlName="street" class="form-control" 
              [ngClass]="{ 'is-invalid': submitted && f['street'].errors }" >
            <div *ngIf="submitted && f['street'].errors" class="invalid-feedback">
              <div *ngIf="f['street'].errors['required']">Street is required</div>
              <div *ngIf="f['street'].errors['minlength']">
                Street must be at least 6 characters
              </div>
              <div *ngIf="f['street'].errors['maxlength']">
                Street must not exceed 10 characters
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="city" class="form-label">City(<i>{{address.city}}</i>)</label>
            <input id="city" type="text" formControlName="city" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['city'].errors }">
            <div *ngIf="submitted && f['city'].errors" class="invalid-feedback">
              <div *ngIf="f['city'].errors['required']">City is required</div>
              <div *ngIf="f['city'].errors['minlength']">
                City must be at least 6 characters
              </div>
              <div *ngIf="f['city'].errors['maxlength']">
                City must not exceed 10 characters
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="state" class="form-label">State(<i>{{address.state}}</i>)</label>
            <input id="state" type="text" formControlName="state" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['state'].errors }" >
            <div *ngIf="submitted && f['state'].errors" class="invalid-feedback">
              <div *ngIf="f['state'].errors['required']">State is required</div>
              <div *ngIf="f['state'].errors['minlength']">
                State must be at least 6 characters
              </div>
              <div *ngIf="f['state'].errors['maxlength']">
                State must not exceed 10 characters
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="zipCode" class="form-label">ZipCode(<i>{{address.zipCode}}</i>)</label>
            <input id="zipCode" type="text" formControlName="zipCode" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['zipCode'].errors }" >
            <div *ngIf="submitted && f['zipCode'].errors" class="invalid-feedback">
              <div *ngIf="f['zipCode'].errors['required']">ZipCode is required</div>
              <div *ngIf="f['zipCode'].errors['minlength']">
                ZipCode must be at least 6 characters
              </div>
              <div *ngIf="f['zipCode'].errors['maxlength']">
                ZipCode must not exceed 10 characters
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="country" class="form-label">Country(<i>{{address.country}}</i>)</label>
            <input id="country" type="text" formControlName="country" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['country'].errors }">
            <div *ngIf="submitted && f['country'].errors" class="invalid-feedback">
              <div *ngIf="f['country'].errors['required']">Country is required</div>
              <div *ngIf="f['country'].errors['minlength']">
                Country must be at least 6 characters
              </div>
              <div *ngIf="f['country'].errors['maxlength']">
                Country must not exceed 10 characters
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="phoneNumber" class="form-label">Phone Number(<i>{{restaurant.phoneNumber}}</i>)</label>
            <input id="phoneNumber" type="text" (keypress)="keyPress($event)" formControlName="phoneNumber"
              class="form-control" [ngClass]="{ 'is-invalid': submitted && f['phoneNumber'].errors }">
            <div *ngIf="submitted && f['phoneNumber'].errors" class="invalid-feedback">
              <div *ngIf="f['phoneNumber'].errors['required']">Phone number is required</div>
              <div
                *ngIf="f['phoneNumber'].errors['pattern'] || f['phoneNumber'].errors['minlength'] || f['phoneNumber'].errors['maxlength']">
                Phone number must be at least 10 numbers</div>
            </div>
          </div>
          <br>
          <div class="text-center">
            <button type="submit" class="btn btn-outline-dark me-1" (click)="updateRestaurant(restaurant.restaurantId)">Update Restaurant</button>
            <button type="button" (click)="onReset()" class="btn btn-warning me-1">
              Reset
            </button>
          </div>
        </form>
      </div>
</div>